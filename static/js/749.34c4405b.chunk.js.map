{"version":3,"file":"static/js/749.34c4405b.chunk.js","mappings":"2UAEMA,EAAW,gCACXC,EAAU,mCAEHC,EAAe,mCAAG,WAAMC,GAAN,gFACvBC,EADuB,UACdJ,EADc,sCACwBC,EADxB,oBAENI,EAAAA,EAAAA,IAAUD,EAAKD,GAFT,cAEvBG,EAFuB,yBAGtBA,EAASC,MAHa,2CAAH,sDAMfC,EAAc,mCAAG,WAAOC,EAAON,GAAd,gFACtBC,EADsB,UACbJ,EADa,gCACmBC,EADnB,kBACoCQ,EADpC,uDAELJ,EAAAA,EAAAA,IAAUD,EAAKD,GAFV,cAEtBG,EAFsB,yBAGrBA,EAASC,MAHY,2CAAH,wDAMdG,EAAgB,mCAAG,WAAOC,EAASR,GAAhB,gFACxBC,EADwB,UACfJ,EADe,iBACEW,EADF,oBACqBV,EADrB,4BAEPI,EAAAA,EAAAA,IAAUD,EAAKD,GAFR,cAExBG,EAFwB,yBAGvBA,EAASC,MAHc,2CAAH,wDAMhBK,EAAc,mCAAG,WAAOD,EAASR,GAAhB,gFACtBC,EADsB,UACbJ,EADa,iBACIW,EADJ,4BAC+BV,EAD/B,4BAELI,EAAAA,EAAAA,IAAUD,EAAKD,GAFV,cAEtBG,EAFsB,yBAGrBA,EAASC,MAHY,2CAAH,wDAMdM,EAAe,mCAAG,WAAOF,EAASR,GAAhB,gFACvBC,EADuB,UACdJ,EADc,iBACGW,EADH,4BAC8BV,EAD9B,mCAENI,EAAAA,EAAAA,IAAUD,EAAKD,GAFT,cAEvBG,EAFuB,yBAGtBA,EAASC,MAHa,2CAAH,wDAMfO,EAAa,mCAAG,WAAOH,EAASR,GAAhB,gFACrBC,EADqB,UACZJ,EADY,iBACKW,EADL,2BAC+BV,GAD/B,SAEJI,EAAAA,EAAAA,IAAUD,EAAKD,GAFX,cAErBG,EAFqB,yBAGpBA,EAASC,MAHW,2CAAH,uD,8KChCbQ,EAAgBC,EAAAA,GAAAA,IAAH,8GAKbC,GAASD,EAAAA,EAAAA,IAAOE,EAAAA,EAAPF,CAAH,sE,SCyCnB,EA5CgB,WACd,IAAQL,GAAYQ,EAAAA,EAAAA,MAAZR,QACR,GAAoCS,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KA2BA,OAzBAC,EAAAA,EAAAA,YAAU,WACRD,GAAa,GACb,IAAME,EAAkB,IAAIC,gBACtBxB,EAAe,CAAEyB,OAAQF,EAAgBE,QAHjC,wCAKd,gHAEuBd,EAAAA,EAAAA,IAAcH,EAASR,GAF9C,UAEUI,EAFV,OAGUsB,EAAUtB,EAAKuB,QAAQC,QAAO,SAAAC,GAAI,MAAkB,YAAdA,EAAKC,IAAT,IAA6B,GAHzE,iDAOIX,EAAc,mCAAD,OAAoCO,EAAQK,MACzDV,GAAa,GARjB,qDAUqB,iBAAb,KAAIW,KAVZ,mDAYIC,QAAQC,IAAI,SAZhB,2DALc,sBAsBd,OAtBc,mCAqBdC,GACO,kBAAMZ,EAAgBa,OAAtB,CACR,GAAE,CAAC5B,EAASU,KAGX,gCACkB,KAAfA,IACC,SAACN,EAAD,WACE,SAACE,EAAD,CAAQb,IAAKiB,EAAYmB,MAAM,OAAOC,OAAO,WAGjC,KAAfpB,IAAsBE,IACrB,uFAIP,C","sources":["components/services/themoviedbAPI.js","components/trailer/Trailer.styled.jsx","components/trailer/Trailer.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'a59dfea75e9e40e203f0819879862061';\n\nexport const getPopularFilms = async abortOptions => {\n  const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=1`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getMovieByName = async (quary, abortOptions) => {\n  const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${quary}&page=1&language=en-US&include_adult=false`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getInfoByMovieId = async (movieId, abortOptions) => {\n  const url = `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getCastOfMovie = async (movieId, abortOptions) => {\n  const url = `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getMovieReviews = async (movieId, abortOptions) => {\n  const url = `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getMovieVideo = async (movieId, abortOptions) => {\n  const url = `${BASE_URL}movie/${movieId}/videos?api_key=${API_KEY}`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n","import styled from 'styled-components';\nimport ReactPlayer from 'react-player/lazy';\n\nexport const PlayerWrapper = styled.div`\n  position: relative;\n  padding-top: 56.25%; /* Player ratio: 100 / (1280 / 720) */\n`;\n\nexport const Player = styled(ReactPlayer)`\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n","import { useParams } from 'react-router-dom';\nimport { useEffect, useState } from 'react';\nimport { getMovieVideo } from 'components/services/themoviedbAPI';\nimport { Player, PlayerWrapper } from './Trailer.styled';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [trailerUrl, setTrailerUrl] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    const abortController = new AbortController();\n    const abortOptions = { signal: abortController.signal };\n\n    async function fetchReviews() {\n      try {\n        const data = await getMovieVideo(movieId, abortOptions);\n        const trailer = data.results.filter(item => item.type === 'Trailer')[0];\n\n        if (!trailer) return;\n\n        setTrailerUrl(`https://www.youtube.com/watch?v=${trailer.key}`);\n        setIsLoading(false);\n      } catch (err) {\n        if (err.code === 'ERR_CANCELED') return;\n\n        console.log('Error');\n      }\n    }\n\n    fetchReviews();\n    return () => abortController.abort();\n  }, [movieId, trailerUrl]);\n\n  return (\n    <>\n      {trailerUrl !== '' && (\n        <PlayerWrapper>\n          <Player url={trailerUrl} width=\"100%\" height=\"100%\" />\n        </PlayerWrapper>\n      )}\n      {trailerUrl === '' && !isLoading && (\n        <p>We don't have any information about cast for this movies.</p>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;\n"],"names":["BASE_URL","API_KEY","getPopularFilms","abortOptions","url","axios","response","data","getMovieByName","quary","getInfoByMovieId","movieId","getCastOfMovie","getMovieReviews","getMovieVideo","PlayerWrapper","styled","Player","ReactPlayer","useParams","useState","trailerUrl","setTrailerUrl","isLoading","setIsLoading","useEffect","abortController","AbortController","signal","trailer","results","filter","item","type","key","code","console","log","fetchReviews","abort","width","height"],"sourceRoot":""}