{"version":3,"file":"static/js/624.e42a9c14.chunk.js","mappings":"mQAIaA,EAAO,WAClB,OAAwCC,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KAyBA,OAlBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,IAAIC,gBACtBC,EAAe,CAAEC,OAAQH,EAAgBG,QAFjC,wCAId,8GAEuBC,EAAAA,EAAAA,IAAgBF,GAFvC,OAEUG,EAFV,OAGIP,EAAgBO,EAAKC,SAHzB,gDAKIC,QAAQC,IAAI,SACZD,QAAQC,IAAR,MANJ,0DAJc,sBAed,OAfc,mCAcdC,GACO,kBAAMT,EAAgBU,OAAtB,CACR,GAAE,KAGD,iCACE,4CACA,SAAC,IAAD,CAAWC,OAAQd,MAGxB,C,wDClBD,IAhBkB,SAAC,GAAgB,IAAdc,EAAa,EAAbA,OACbC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,wBACGF,EAAOG,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMP,GAA1C,SACGI,KAFID,EADC,KASjB,C,mMCdKK,EAAW,gCACXC,EAAU,mCAEHjB,EAAe,mCAAG,WAAMF,GAAN,gFACvBoB,EADuB,UACdF,EADc,sCACwBC,EADxB,oBAENE,EAAAA,EAAAA,IAAUD,EAAKpB,GAFT,cAEvBsB,EAFuB,yBAGtBA,EAASnB,MAHa,2CAAH,sDAMfoB,EAAc,mCAAG,WAAOC,EAAOxB,GAAd,gFACtBoB,EADsB,UACbF,EADa,gCACmBC,EADnB,kBACoCK,EADpC,uDAELH,EAAAA,EAAAA,IAAUD,EAAKpB,GAFV,cAEtBsB,EAFsB,yBAGrBA,EAASnB,MAHY,2CAAH,wDAMdsB,EAAgB,mCAAG,WAAOC,EAAS1B,GAAhB,gFACxBoB,EADwB,UACfF,EADe,iBACEQ,EADF,oBACqBP,EADrB,4BAEPE,EAAAA,EAAAA,IAAUD,EAAKpB,GAFR,cAExBsB,EAFwB,yBAGvBA,EAASnB,MAHc,2CAAH,wDAMhBwB,EAAc,mCAAG,WAAOD,EAAS1B,GAAhB,gFACtBoB,EADsB,UACbF,EADa,iBACIQ,EADJ,4BAC+BP,EAD/B,4BAELE,EAAAA,EAAAA,IAAUD,EAAKpB,GAFV,cAEtBsB,EAFsB,yBAGrBA,EAASnB,MAHY,2CAAH,wDAMdyB,EAAe,mCAAG,WAAOF,EAAS1B,GAAhB,gFACvBoB,EADuB,UACdF,EADc,iBACGQ,EADH,4BAC8BP,EAD9B,mCAENE,EAAAA,EAAAA,IAAUD,EAAKpB,GAFT,cAEvBsB,EAFuB,yBAGtBA,EAASnB,MAHa,2CAAH,uD","sources":["Pages/home/Home.js","components/movieList/MovieList.js","components/services/themoviedbAPI.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { getPopularFilms } from 'components/services/themoviedbAPI';\nimport MovieList from 'components/movieList/MovieList';\n\nexport const Home = () => {\n  const [popularFilms, setPopularFilms] = useState([]);\n\n  // useEffect(() => {\n  //   getPopularFilms().then(data => setPopularFilms(data)).catch(console.log);\n  // }, []);\n  // Аналог вызова асинхр ф-ии в useEffect //\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    const abortOptions = { signal: abortController.signal };\n\n    async function fetchPopular() {\n      try {\n        const data = await getPopularFilms(abortOptions);\n        setPopularFilms(data.results);\n      } catch (err) {\n        console.log('Error');\n        console.log(err);\n      }\n    }\n\n    fetchPopular();\n    return () => abortController.abort();\n  }, []);\n\n  return (\n    <>\n      <h2>Trending today</h2>\n      <MovieList movies={popularFilms} />\n    </>\n  );\n};\n","import { Link, useLocation } from 'react-router-dom';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul>\n      {movies.map(({ id, title }) => (\n        <li key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MovieList;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'a59dfea75e9e40e203f0819879862061';\n\nexport const getPopularFilms = async abortOptions => {\n  const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=1`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getMovieByName = async (quary, abortOptions) => {\n  const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${quary}&page=1&language=en-US&include_adult=false`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getInfoByMovieId = async (movieId, abortOptions) => {\n  const url = `${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getCastOfMovie = async (movieId, abortOptions) => {\n  const url = `${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n\nexport const getMovieReviews = async (movieId, abortOptions) => {\n  const url = `${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n  const response = await axios.get(url, abortOptions);\n  return response.data;\n};\n"],"names":["Home","useState","popularFilms","setPopularFilms","useEffect","abortController","AbortController","abortOptions","signal","getPopularFilms","data","results","console","log","fetchPopular","abort","movies","location","useLocation","map","id","title","to","state","from","BASE_URL","API_KEY","url","axios","response","getMovieByName","quary","getInfoByMovieId","movieId","getCastOfMovie","getMovieReviews"],"sourceRoot":""}